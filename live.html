<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Live Test</title>
    <script type="text/javascript" src="/Library/jquery-3.1.0.js"></script>
</head>
<body>
    <script type="text/javascript">
        var renderModel = function(model) {
            var $el = $('<div>')
            $el.append('<span>' + model.title + '---' + model.uname + '---' + model.online + '</span>')
            $('body').append($el)
        }

        var renderData = function(data) {
            var list = data.data.list
            $('body').html('')
            list.forEach(function(up) {
                var model = {
                    title: up.title,
                    uname: up.uname,
                    online: up.online
                }
                renderModel(model)
            })
        }

        var getData = function() {
            $.ajax({
                url: 'json.php?q=http://api.bilibili.cn/userinfo?user=%E7%8C%AB%E5%A4%A7%E5%8F%AF',
                dataType: 'json',
                success: function(data) {
                    console.log(data)
                },
                error: function() {
                    console.log('fail')
                }
            })
        }

        setInterval(getData, 10000)
    </script>
</body>
</html>
